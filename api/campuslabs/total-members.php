<?php
function total_members() {
	$ch = curl_init();

	curl_setopt($ch, CURLOPT_URL, 'https://unt.campuslabs.com/engage/actioncenter/organization/robotics/roster');
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
	curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'GET');

	curl_setopt($ch, CURLOPT_ENCODING, 'gzip, deflate');

	$headers = array();
	$headers[] = 'Connection: keep-alive';
	$headers[] = 'Cache-Control: max-age=0';
	$headers[] = 'Upgrade-Insecure-Requests: 1';
	$headers[] = 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36';
	$headers[] = 'Dnt: 1';
	$headers[] = 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3';
	$headers[] = 'Accept-Encoding: gzip, deflate, br';
	$headers[] = 'Accept-Language: en-GB,en;q=0.9,de;q=0.8';
	$headers[] = 'Cookie: .AspNetCore.Antiforgery.Pnjfq5WAl6o=CfDJ8Az9GcAD4TpIm2NmyW6ywWFMkwaMtaqnL9fWLNdZb0c8u7cdn3_hyaBoCsa3haMl1u3UVpikTzRNrb2EVusUH0uDW667rYZpHfJ1RR3hPmF4p-zfpLq2m8HVvEdFqPT7YusvJ3naamgxc10CuB7uVsw; .AspNetCore.Cookies=chunks-2; .AspNetCore.CookiesC1=CfDJ8Az9GcAD4TpIm2NmyW6ywWENCcXiwH2jOkex0sNw4bMw08BEe_sx4aBS-I2IoWMBwnomxM3pdIMKFkS3K2Bk6KclhNLms-gFSX4yECA5MgmpVeIJQh-VaV1aMjK3U0eZQRQE19TVAj2xn2ibBU00occbWqUgHT_-59-Xyw79D8N6UG1M56UmSc_sjwHV7uIbUFf45D71XWIvNYY0l9XpQ8U4EcfT0yxPLcocEcu59qpZelqgb7VMHl6E63G-1vAuoyhUIBTzUVi4F9rCMtzgTn-Pxbh0qi9gDVi6X0DEleOca2VBDb6IlFhcddP5e22Rq-MJJLrUT0OvtMw3-Nc2ohbxV1JtEnRHLMYtJ-4xBVgQULznOgccn60hMPq9FEknsWXiRsAKtADjH5Aq5RJkwKd4HLdyV6YsoPTXn70GecEr45i3pFulSPZn2P8q5ktVBKQq6IJZGRmD6GbxBEC8CclI9fmTtLO1H7w8NBcXT6PAm-B2NJw3Xv1m26QsXzIIbvgsLFqhEAQmDF0nMH6oDuM-rytAnA2cXeZWA20JY9Ms55xIIIcO9P0-SzaTCevNYQS5C2Dup9rou1I1rw3pPzoU5jGWuVmXdDWqtEOF3Ic_7udTDHlQXs81O53R3og56GTpF1T74r9cA6WiPRsgBqSKNndmOT7w_9BJTXrJG-ywQ1pcW9JIzdF7G8D3JzuBMFy6YiOJLMzpCqOu-hmbVC59285EvtiiYLLdKq0M0oaSmOf242Ga1Ffj1iclrMz23XnkMPjZd64bBB3NICpQ65kMaXmKSKZ00SgZuEcZcZ1y02td8Wjtfs76H95RtR7IiihV5PAPizqzU6_W0NouIxjWs6YOegiQTy0t15AwWYnnAMQWqB_cm2nbx6ywVd8WKKfIfBlH6cyxb0TJ8EyuCQSj4_9GefWjyTUTB4YGFClAvcMbRhVuJmNhuXcvmEZGN5ZRIZiOMULVr-7LC81NPQg0DIPiVI4zmHFMK4TwrW1clQzsJqaylhYDng1yqkxJWdYBiI9wP4KsWzPhheO3CSV9ehIdTvsR9coUBMDMGJXzDGU81Zaw26RZ_ujgqm-Tvk-JiDMNiYmWvjtKiv7sY6K_BtW9gMBqtl03KsB7PDwdhzNNtQIyHsyiT4zlT_bw-JGZjzfiV1rrFmJt1ks0f7ZwN3DsDmsl0fu8c7c35jo9745cRW0Hntmhts9-5UAzCf4VjtCsZuEvkit6ENo2adLS97wMNag5CVNOJBdhgm0G5A69ZPVcUCZzFlrJeYqPRvO8GwYwoEUtSm9bAvHleIn8JA_J8_NNKoMI-dmFXowebgB27P8fMRHq4DyuxWW43fcFtI3KqgGCRR_QO1JiquGsSfJ_fCz6__m5S2PFzr0OeGyV--49B_I8boIR7docpeEWacSxoNSMZJ8jSXsj48PYozIVkDptjTdnRCqssqyCWzg8Bb6bq0IW1Y05PItWnCfxbNYs4GqGpOiz8v91DeIBMTfqI-OWJTsRp7rkljejOb2BlLa7WurJGMIzXeMbtShLPKQV7pE4NXEnW2YDGNusy-cSg_MA5KVc776_WFygd1vFAd-dWm38BC2FL05s3Wo6IM6XHQuRauqBys88EN77-V0ju4HPZv_G9zojvuP8S323GYCqT9ZrNap5kHv-BjjhYxTrtUjXcksO0byUa6YsjrMN-xf-X_copCR57zY2EjVEFslBEbgpiK7pSRV1MkttizQqqpQiOVWvLFfxfpyFaX3PAkRfZq1UZvMbQJETM_448hmVECwJxdyCHUGgkqljjxleMG_3mR7zNpPMNG8V8WXP5SrK_v8G7ym3v97NQZNdijQvAI32AhLNtWXSxfDVmMYFO-ZZjsoGKVzdCnVamGGksr78GOaniJIafiRTZdkCaa_tW6owjEY58EfepblqTIob9SjKanZDa4vMoPt1uXkz8o17I8iiKStqGNE-hiUHnLytbjkeRcFDeiXgd3iT8vW9AbCgorhlyqeR2-twQbJ6OXs3lWYMxpRLe2Js3Bq-gPN-rBdJG6Q7pXJtu3dAi4Xw4oX232uFqMFdG8CTB8g8nj1YxRo3j00fiISgxWPleSVANTVVgqSIbRogFdT5jda64yusBveRgpL6TDzaE8q4YbH2X4nI7EClQCv0oMOZjIk7qZnoUhtRNd_NvLctIL_rT2eGYEpQjDtAuNQ0_Opyl_RnpTYG0SnsOQSXQaicsrHpiIziL9iGURhxn3YWgU0THbq5sJ4coi8Prls0lsVVvH3byUf7wze5Jx9Rfz0CXz81eSli3AzxEwyyH3eLwtuWeqPAUqlTxa3BUo6-KbRC4vOVfzz0vFMXtJICQVHIsBevneNPx53bWyDR1czwaWMSSFcgWESKkVO9Lqgx7itC21ue3RrPMgL66NEit6viC2YPAyhv8wTnJPCD3Ews_0bwxtBn2drrx7XXjLnzY-mo6YixjpLxieTg6fqXUxk8i0-6bj7n3cVCz2VCVKR2uUg_tzfiYvDDZTQUkiiGu5e1XIMSgdD0ks9qThx9dggNDivBxPMe7VmzcbxQBLUrIBg2ZfJaO_ajLoapzbSaSWunLqqJnlmoM5SEhFZKPy3Tp6VNsxV7o28z35rWxfmY9ce-1Z63JMnpNC7gCvmY0HvL74t_d8UXg6y1M2t8nn0gkppDwxEe1zFKXFU8ZyHvjGnWQy_Z6Ialq90pY4c1CejDHsBCIM-Sb71872o4Wq07xsDIa-EHKn50OKiOk9ZKql46COXs1ArjcHYyOZgljzCtQlFuTuwZQNgtCu0A1XDhNqt2L2qYx1Qze8lvn3PKtLGPRIdz1dkbf9X6J1JQ_YDvVuQ5KpE7shudjekXGZk68VMRBCPgpyHDfQYniiePoatVSuwhBY8ruXrFDw2GtjoHv0S6XWJPC-0_bB1GdEcTpmZwUYpWp9mh4mMoFkfll5ScACxCZiSt9m8GOxpo4XPrQt0BlMP95cm1ov54CSEaKunoL3XeRqFOaTNElCf1B6x2CEuQ8B0UzVtpVrAQluOCcYs5v_7XTP5lj5umvAr-DH8PUsGdDAzx-DEF2A3vB1AqyIqWDGMjPsLf_0EAbmgC9W5KoQtjBhvorF0otdsgY_cYaW0ZP49yI90L9LYNe7jRaiRKePl4iOQ_PHExsrQPs9joDuax2glDkvfJJfYWzL9jz5U4topqpPXbO2AZusVQO2cFx79JotpRoYjePlUSQLrmB_LcSgB5ENQoejJZQz-xDydiX1EGls5_d6rOGJFi9BZv0IkENDAAnXGVfXotMkdE6pa0ta3sA1MbqvzIJJKl8ibkQlz-dJmWFypDM1LVda72ppGyATBTSR_z3P2IJd6sLYtL61ySY5ahOhNZzWUtnmVsyvhlpOOsZaWsWsio6HrUBAaDShXEiqj2SAQbhmQQ7CQDpPah1CyvRzxVa_M7BqWqiZ8dzeBL1mQoSofHexul28ZIFi953vxaWQx1-qgylOPxds48ZL6-xwTfRYQiQbmxEjQYUHTsRVcdGkG8A3TV2OO65ZxN1epH0d196uVI5eplrq21B5DbklkPofLe3NYv-NkyhkcVuKAKmyghd1wnrQ3CO4yilmsOVIQOBV82OPltkP5IuorL237cvrgXCainBdSir_u3axWZGGZXbFVA2KVY4JizsooJFz9iiZpO7liPzeywuLyg1-rycCEV9bcoo31wUfvDC95DbYQypC7yMT9gY1GyNv6gQKX3j9eOUF9qeDglHJLEDj_Eh5dae_nMU3bX3M_QXshkocxVj6wPDeBvo6G3K6q3H6lIBISX4GYkHwfrQXCKcTJb-NfiXPyZlD0n5MCnvR8Dji_rAPEKyip0Vkae7ZCyWpSos54M3y7f5sJix8R8o8NcyWMh1k285C9_HBWaEgCPmb8EzApknIgSZlyx74WvpWd21WS11; .AspNetCore.CookiesC2=OWeEGJLCFwVKqTKYSeULsLNmnrK4xUW3DOsyXk-F_76qg03f9fVQKkUpsQjdS9dQ4nYqz3lsDRwFwd6u0p6YkhI5vFYLC_52Sx_c1trBwkU-_Yyvfg2b1j1Kk_XWDQS1Ppge0OK4FC4soKv95BO9szXtue5othSgEgI1Oh4gmwb__vQZmp2MgQE_7yCGy-mEQL6AwcxYel_JxiNr7bdKAjD20t8k6LXSUfg6my4hZF3tVI92gMhDKauq7oR-VAjXiA9nwWSwDTZMVZDhN9MOR4PoCc-mLPRyziipf-8jrswMg5a1qIuIlhP-eP-1o70PokbdxP9vE0nnimi9nM4GlhnrRcUvzqc7AzrmQlvHXxtjMFbefS7shE4XTYqnAYSG9fzCnog2wNa_Lt14cESgl7WVlQ8N7xiQQewZI3rPLHGpa6tWdr37eEzCNYhTWberiymV-y8DzoMgs9G4_ZbHG1R29gLAE9esyVw6h0yVlYJnZ7b32NWgccF8nWLLQYMFuRATzczBsOagJAcir0a91n7jRdopR1SLaoZFc4adBe1oXA0dAOKeA7xC9ACudCz9z5_JJ8cUZhnEe8YNGBhIUXHBU2zzluqBVHe7BCduJgElo5ZF0QsGRg; ai_user=Wtq+99wNvhYXrrYKUi6zkv|2021-09-02T00:51:34.260Z; _ga=GA1.2.680886831.1630543895; _gid=GA1.2.707234105.1630543895; _ga=GA1.3.680886831.1630543895; _gid=GA1.3.707234105.1630543895; _clck=2kpkbo|1|eue|0; XSRF-TOKEN=vOEzFS2XZMu2D4HQxIQAqmLKOqV-e7nNFa-0ocdOqtVBpjxJd8yxTNpA1PK4P3xQMgHDvFRdEiM1m3Cfjax7GtmH_CKN_J-JY5IEiBqSIjg1:Se6HQbE0HMWQMKKjeXzv1eHtfMdCViAcWgINgpbWGyQ7WKyvZZfa60IaDkfz4FCTnClfW7E61X32X_atN1jiMxca2pLvDECXgKJq5BrqYB0de6RMB4MbQ7tPPglQJA2r2Da598NGHFrbyY4Tg5MI4Q2; Celebrator.HasMadeRequest=true; _gat=1; _gat_institution=1; ai_session=a7Z7N0OcUGCldGOPAYH6V6|1630543894580|1630544177275; _clsk=5rk1xi|1630544177597|2|0|www.clarity.ms/eus2-b/collect';
	curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);

	$result = curl_exec($ch);
    $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);

	if (curl_errno($ch)) {
	    echo 'Error:' . curl_error($ch);
	}

	curl_close($ch);

	//var_dump("RESULT", $result, $httpcode);

	preg_match("@<span class='paginationLeft'>Showing 1 - 15 of (\d+) </span>@ism", $result, $m);
    //var_dump($m);
	$members = intval($m[1]);
	return $members;
}

echo "Total members: " . total_members();